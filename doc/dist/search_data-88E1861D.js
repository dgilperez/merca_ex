searchData={"items":[{"type":"module","title":"MercaEx","doc":"Elixir client for the Mercadona API.\n\nMercaEx provides a simple interface to interact with Mercadona's\nproduct catalog, including browsing categories, fetching products,\nand searching.","ref":"MercaEx.html"},{"type":"module","title":"Usage - MercaEx","doc":"# List all categories\n    {:ok, categories} = MercaEx.categories()\n\n    # Get products in a category\n    {:ok, products} = MercaEx.products(category_id)\n\n    # Get a specific product\n    {:ok, product} = MercaEx.product(\"1234\")\n\n    # Search for products\n    {:ok, results} = MercaEx.search(\"leche\")","ref":"MercaEx.html#module-usage"},{"type":"module","title":"Configuration - MercaEx","doc":"The HTTP client can be configured for testing:\n\n    config :merca_ex, :http_client, MercaEx.HTTPClientMock","ref":"MercaEx.html#module-configuration"},{"type":"function","title":"MercaEx.categories/0","doc":"Fetches all product categories.\n\nReturns a list of top-level categories, each containing\ntheir subcategories.","ref":"MercaEx.html#categories/0"},{"type":"function","title":"Examples - MercaEx.categories/0","doc":"iex> {:ok, categories} = MercaEx.categories()\n    iex> hd(categories).name\n    \"Aceite, especias y salsas\"","ref":"MercaEx.html#categories/0-examples"},{"type":"function","title":"MercaEx.product/1","doc":"Fetches a single product by ID.","ref":"MercaEx.html#product/1"},{"type":"function","title":"Parameters - MercaEx.product/1","doc":"- `product_id` - The product ID (string)","ref":"MercaEx.html#product/1-parameters"},{"type":"function","title":"Examples - MercaEx.product/1","doc":"iex> {:ok, product} = MercaEx.product(\"1234\")\n    iex> product.name\n    \"Aceite de oliva virgen extra\"","ref":"MercaEx.html#product/1-examples"},{"type":"function","title":"MercaEx.products/1","doc":"Fetches products for a specific category.","ref":"MercaEx.html#products/1"},{"type":"function","title":"Parameters - MercaEx.products/1","doc":"- `category_id` - The category ID (integer or string)","ref":"MercaEx.html#products/1-parameters"},{"type":"function","title":"Examples - MercaEx.products/1","doc":"iex> {:ok, products} = MercaEx.products(113)\n    iex> hd(products).name\n    \"Aceite de oliva virgen extra\"","ref":"MercaEx.html#products/1-examples"},{"type":"function","title":"MercaEx.search/2","doc":"Searches for products by query using Algolia.","ref":"MercaEx.html#search/2"},{"type":"function","title":"Parameters - MercaEx.search/2","doc":"- `query` - Search term\n  - `opts` - Optional parameters:\n    - `:warehouse` - Warehouse code (default: \"mad1\"). See `MercaEx.Algolia.available_warehouses/0`\n    - `:limit` - Maximum results to return (default: 20)","ref":"MercaEx.html#search/2-parameters"},{"type":"function","title":"Examples - MercaEx.search/2","doc":"iex> {:ok, products} = MercaEx.search(\"leche\")\n    iex> length(products) > 0\n    true\n\n    iex> {:ok, products} = MercaEx.search(\"leche\", warehouse: \"bcn1\", limit: 5)","ref":"MercaEx.html#search/2-examples"},{"type":"module","title":"MercaEx.Algolia","doc":"Algolia search client for Mercadona products.\n\nMercadona uses Algolia for product search. The credentials are public\n(embedded in their web frontend JavaScript) and read-only.","ref":"MercaEx.Algolia.html"},{"type":"module","title":"Warehouses - MercaEx.Algolia","doc":"Different warehouse codes return different product catalogs and prices:\n\n- `mad1` - Madrid (default, most complete)\n- `mad2` - Madrid (alternative)\n- `bcn1` - Barcelona\n- `vlc1` - Valencia\n- `vlc2` - Valencia (limited catalog)\n- `svq1` - Sevilla\n- `alc1` - Alicante","ref":"MercaEx.Algolia.html#module-warehouses"},{"type":"module","title":"Usage - MercaEx.Algolia","doc":"{:ok, products} = MercaEx.Algolia.search(\"leche\")\n    {:ok, products} = MercaEx.Algolia.search(\"leche\", warehouse: \"bcn1\", limit: 10)","ref":"MercaEx.Algolia.html#module-usage"},{"type":"function","title":"MercaEx.Algolia.available_warehouses/0","doc":"Returns a list of known warehouse codes.","ref":"MercaEx.Algolia.html#available_warehouses/0"},{"type":"function","title":"MercaEx.Algolia.search/2","doc":"Searches for products using Algolia.","ref":"MercaEx.Algolia.html#search/2"},{"type":"function","title":"Options - MercaEx.Algolia.search/2","doc":"- `:warehouse` - Warehouse code (default: \"mad1\")\n  - `:limit` - Maximum results to return (default: 20)","ref":"MercaEx.Algolia.html#search/2-options"},{"type":"function","title":"Examples - MercaEx.Algolia.search/2","doc":"iex> MercaEx.Algolia.search(\"leche\")\n    {:ok, [%MercaEx.Product{...}, ...]}\n\n    iex> MercaEx.Algolia.search(\"cerveza\", warehouse: \"bcn1\", limit: 5)\n    {:ok, [%MercaEx.Product{...}, ...]}","ref":"MercaEx.Algolia.html#search/2-examples"},{"type":"module","title":"MercaEx.Category","doc":"Represents a Mercadona product category.\n\nCategories can have subcategories (nested categories).","ref":"MercaEx.Category.html"},{"type":"type","title":"MercaEx.Category.t/0","doc":"","ref":"MercaEx.Category.html#t:t/0"},{"type":"function","title":"MercaEx.Category.from_api/1","doc":"Parses a category from API response data.","ref":"MercaEx.Category.html#from_api/1"},{"type":"module","title":"MercaEx.Client","doc":"Low-level HTTP client for the Mercadona API.\n\nHandles URL construction, request execution, and error handling.","ref":"MercaEx.Client.html"},{"type":"function","title":"MercaEx.Client.get/2","doc":"Makes a GET request to the Mercadona API.","ref":"MercaEx.Client.html#get/2"},{"type":"function","title":"Examples - MercaEx.Client.get/2","doc":"iex> MercaEx.Client.get(\"/categories/\")\n    {:ok, %{\"results\" => [...]}}\n\n    iex> MercaEx.Client.get(\"/products/\", params: %{query: \"leche\"})\n    {:ok, %{\"results\" => [...]}}","ref":"MercaEx.Client.html#get/2-examples"},{"type":"function","title":"MercaEx.Client.get!/2","doc":"Makes a GET request and raises on error.","ref":"MercaEx.Client.html#get!/2"},{"type":"function","title":"Examples - MercaEx.Client.get!/2","doc":"iex> MercaEx.Client.get!(\"/categories/\")\n    %{\"results\" => [...]}","ref":"MercaEx.Client.html#get!/2-examples"},{"type":"behaviour","title":"MercaEx.HTTPClient","doc":"Behaviour for HTTP client operations.\n\nThis behaviour allows for easy mocking in tests while using\nthe real HTTP client in production.","ref":"MercaEx.HTTPClient.html"},{"type":"type","title":"MercaEx.HTTPClient.body/0","doc":"","ref":"MercaEx.HTTPClient.html#t:body/0"},{"type":"type","title":"MercaEx.HTTPClient.error/0","doc":"","ref":"MercaEx.HTTPClient.html#t:error/0"},{"type":"type","title":"MercaEx.HTTPClient.opts/0","doc":"","ref":"MercaEx.HTTPClient.html#t:opts/0"},{"type":"type","title":"MercaEx.HTTPClient.response/0","doc":"","ref":"MercaEx.HTTPClient.html#t:response/0"},{"type":"type","title":"MercaEx.HTTPClient.url/0","doc":"","ref":"MercaEx.HTTPClient.html#t:url/0"},{"type":"callback","title":"MercaEx.HTTPClient.get/2","doc":"","ref":"MercaEx.HTTPClient.html#c:get/2"},{"type":"callback","title":"MercaEx.HTTPClient.post/3","doc":"","ref":"MercaEx.HTTPClient.html#c:post/3"},{"type":"module","title":"MercaEx.HTTPClient.Req","doc":"HTTP client implementation using Req.","ref":"MercaEx.HTTPClient.Req.html"},{"type":"module","title":"MercaEx.Product","doc":"Represents a Mercadona product.\n\nContains pricing, identification, and product details.","ref":"MercaEx.Product.html"},{"type":"type","title":"MercaEx.Product.t/0","doc":"","ref":"MercaEx.Product.html#t:t/0"},{"type":"function","title":"MercaEx.Product.from_api/1","doc":"Parses a product from API response data.","ref":"MercaEx.Product.html#from_api/1"},{"type":"exception","title":"MercaEx.Error","doc":"Exception raised when MercaEx API operations fail.","ref":"MercaEx.Error.html"},{"type":"type","title":"MercaEx.Error.t/0","doc":"","ref":"MercaEx.Error.html#t:t/0"},{"type":"extras","title":"MercaEx","doc":"# MercaEx\n\n[![Hex.pm](https://img.shields.io/hexpm/v/merca_ex.svg)](https://hex.pm/packages/merca_ex)\n[![Docs](https://img.shields.io/badge/hex-docs-blue.svg)](https://hexdocs.pm/merca_ex)\n[![CI](https://github.com/dgilperez/merca_ex/actions/workflows/ci.yml/badge.svg)](https://github.com/dgilperez/merca_ex/actions)\n\nElixir client for the Mercadona API.","ref":"readme.html"},{"type":"extras","title":"Installation - MercaEx","doc":"Add `merca_ex` to your list of dependencies in `mix.exs`:\n\n```elixir\ndef deps do\n  [\n    {:merca_ex, \"~> 0.1.0\"}\n  ]\nend\n```","ref":"readme.html#installation"},{"type":"extras","title":"Usage - MercaEx","doc":"","ref":"readme.html#usage"},{"type":"extras","title":"List Categories - MercaEx","doc":"```elixir\n{:ok, categories} = MercaEx.categories()\n\nEnum.each(categories, fn cat ->\n  IO.puts(\"#{cat.id}: #{cat.name}\")\n  Enum.each(cat.subcategories, fn sub ->\n    IO.puts(\"  #{sub.id}: #{sub.name}\")\n  end)\nend)\n```","ref":"readme.html#list-categories"},{"type":"extras","title":"Get Products by Category - MercaEx","doc":"```elixir\n{:ok, products} = MercaEx.products(113)\n\nEnum.each(products, fn product ->\n  IO.puts(\"#{product.name} - #{product.price}€\")\nend)\n```","ref":"readme.html#get-products-by-category"},{"type":"extras","title":"Get Product Details - MercaEx","doc":"```elixir\n{:ok, product} = MercaEx.product(\"12345\")\n\nIO.puts(\"\"\"\nName: #{product.name}\nPrice: #{product.price}€\nEAN: #{product.ean}\nDescription: #{product.description}\n\"\"\")\n```","ref":"readme.html#get-product-details"},{"type":"extras","title":"Search Products - MercaEx","doc":"```elixir\n{:ok, results} = MercaEx.search(\"leche\")\n\n# With options\n{:ok, results} = MercaEx.search(\"leche\", warehouse: \"mad1\", limit: 10)\n```","ref":"readme.html#search-products"},{"type":"extras","title":"Data Types - MercaEx","doc":"","ref":"readme.html#data-types"},{"type":"extras","title":"Category - MercaEx","doc":"```elixir\n%MercaEx.Category{\n  id: 112,\n  name: \"Aceite, especias y salsas\",\n  subcategories: [\n    %MercaEx.Category{id: 113, name: \"Aceite de oliva\", subcategories: []}\n  ]\n}\n```","ref":"readme.html#category"},{"type":"extras","title":"Product - MercaEx","doc":"```elixir\n%MercaEx.Product{\n  id: \"12345\",\n  name: \"Aceite de oliva virgen extra\",\n  price: 5.99,\n  reference_price: 5.99,\n  reference_format: \"1 L\",\n  ean: \"8480000123456\",\n  photo_url: \"https://...\",\n  description: \"Aceite de primera calidad\"\n}\n```","ref":"readme.html#product"},{"type":"extras","title":"Configuration - MercaEx","doc":"For testing, you can configure a mock HTTP client:\n\n```elixir\n# config/test.exs\nconfig :merca_ex, :http_client, MercaEx.HTTPClientMock\n```","ref":"readme.html#configuration"},{"type":"extras","title":"API Reference - MercaEx","doc":"MercaEx wraps the undocumented Mercadona API:\n\n- Base URL: `https://tienda.mercadona.es/api`\n- Categories: `GET /categories/`\n- Category products: `GET /categories/{id}/`\n- Product details: `GET /products/{id}/`\n- Search: Uses Algolia (see below)","ref":"readme.html#api-reference"},{"type":"extras","title":"Search API (Algolia) - MercaEx","doc":"Mercadona uses [Algolia](https://www.algolia.com/) for product search. The Algolia credentials\nare public (embedded in Mercadona's web frontend JavaScript) and read-only.\n\n```\nApp ID: 7UZJKL1DJ0\nAPI Key: 9d8f2e39e90df472b4f2e559a116fe17 (read-only)\nIndex: products_prod_{warehouse}_es\n```\n\n#### Available Warehouses\n\n| Code | Region | Notes |\n|------|--------|-------|\n| `mad1` | Madrid | Default, recommended |\n| `mad2` | Madrid | Alternative, sometimes different prices |\n| `bcn1` | Barcelona | |\n| `vlc1` | Valencia | |\n| `vlc2` | Valencia | Limited catalog |\n| `svq1` | Sevilla | |\n| `alc1` | Alicante | |\n\n**Note**: Not all regions have dedicated warehouse codes. Users in regions like Galicia\n(A Coruña, Vigo, etc.) should use `mad1` as it has the most complete catalog.\n\n#### References\n\nThis approach was documented by reverse-engineering Mercadona's web application:\n- [mercapy](https://github.com/jtayped/mercapy) - Python client (MIT License)\n- [Mercadona API Gist](https://gist.github.com/mdelapenya/7a7bf8e6f22d86d28ad3b5e3630b1343)","ref":"readme.html#search-api-algolia"},{"type":"extras","title":"Disclaimer - MercaEx","doc":"This library interacts with Mercadona's undocumented public API. It is not affiliated with,\nendorsed by, or connected to Mercadona S.A. in any way. Use at your own risk. The API\nmay change without notice.","ref":"readme.html#disclaimer"},{"type":"extras","title":"License - MercaEx","doc":"MIT License. See [LICENSE](LICENSE) for details.","ref":"readme.html#license"}],"proglang":"elixir","content_type":"text/markdown","producer":{"name":"ex_doc","version":"0.39.3"}}